[gd_scene load_steps=5 format=3 uid="uid://bkdtpdvmpont5"]

[ext_resource type="PackedScene" uid="uid://8cxu0stopnxo" path="res://Scenes/sun.tscn" id="1_rjr2t"]
[ext_resource type="PackedScene" uid="uid://kdq03tde4gex" path="res://Scenes/earth.tscn" id="2_kbmc3"]
[ext_resource type="PackedScene" uid="uid://dl821c4uu8cxq" path="res://Scenes/moon.tscn" id="3_jrpcu"]

[sub_resource type="GDScript" id="GDScript_c5hsh"]
script/source = "extends Node2D

@export var speed:float
@export var radius:float
var initx
var inity
var time :float

# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass

	#initx = get_parent().position.x
	#inity = get_parent().position.y


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:

	time-=delta
	position.x = initx + (sin(time * speed) * radius)
	position.y = inity + (cos(time * speed) * radius)
	
	initx = get_parent().position.x
	inity = get_parent().position.y
"

[node name="Level" type="Node2D"]

[node name="Camera2D" type="Camera2D" parent="."]

[node name="Sun" parent="." instance=ExtResource("1_rjr2t")]

[node name="Earth" parent="Sun" instance=ExtResource("2_kbmc3")]
position = Vector2(0, 0)
speed = 1.0
radius = 100.0

[node name="Moon" parent="Sun/Earth" instance=ExtResource("3_jrpcu")]
script = SubResource("GDScript_c5hsh")
speed = 12.0
radius = 200.0
